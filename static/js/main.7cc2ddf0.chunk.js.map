{"version":3,"sources":["components/ImageGallery/ImageGallery.module.css","components/ImageGalleryItem/ImageGalleryItem.module.css","components/Modal/Modal.module.css","components/Button/Button.module.css","components/Searchbar/Searchbar.js","services/api.js","components/ImageGalleryItem/ImageGalleryItem.js","components/ImageGallery/ImageGallery.js","components/Button/Button.js","components/Modal/Modal.js","App.js","index.js","components/Searchbar/Searchbar.module.css"],"names":["module","exports","Searchbar","state","searchName","handleChange","e","setState","currentTarget","value","toLowerCase","handleSubmit","preventDefault","trim","props","onSubmit","resetForm","toast","warn","className","styles","this","SearchForm","type","SearchForm_button","SearchFormButton_label","SearchForm_input","autoComplete","autoFocus","placeholder","onChange","Component","api","fetchImage","page","console","log","fetch","then","response","ok","json","Promise","reject","Error","ImageGalleryItem","id","src","largeImg","onClick","onImgClick","ImageGalleryItem_image","alt","ImageGallery","images","ImageGallery_container","map","image","webformatURL","largeImageURL","Button","Modal","handleEscape","code","onCloseModal","handleClose","target","window","addEventListener","removeEventListener","children","createPortal","Overlay","document","getElementById","App","searchInfo","error","status","searchPage","showModal","largeImgUrl","handleFormSubmit","handleClick","fetchFunction","length","searchApi","hits","prevState","catch","onOpenModal","dataset","nodeName","url","prevProps","scrollTo","top","documentElement","scrollHeight","behavior","position","autoClose","color","height","width","timeout","message","React","ReactDOM","render","StrictMode"],"mappings":"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","file":"static/js/main.7cc2ddf0.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"ImageGallery\":\"ImageGallery_ImageGallery__2zQUu\",\"ImageGallery_container\":\"ImageGallery_ImageGallery_container__2CD0K\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"ImageGalleryItem\":\"ImageGalleryItem_ImageGalleryItem__2XXks\",\"ImageGalleryItem_image\":\"ImageGalleryItem_ImageGalleryItem_image__IudHd\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Overlay\":\"Modal_Overlay__3rluN\",\"Modal\":\"Modal_Modal__1g6hY\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Button\":\"Button_Button__3aj6O\"};","import React from 'react';\nimport { Component } from 'react';\nimport { AiOutlineSearch } from 'react-icons/ai';\nimport { toast } from 'react-toastify';\nimport styles from '../Searchbar/Searchbar.module.css';\n\nexport default class Searchbar extends Component {\n  state = {\n    searchName: '',\n  };\n\n  handleChange = e => {\n    this.setState({\n      searchName: e.currentTarget.value.toLowerCase(),\n    });\n  };\n\n  handleSubmit = e => {\n    e.preventDefault();\n\n    if (this.state.searchName.trim() === '') {\n      //   alert('Enter a search name')\n      toast.warn('Enter a search name');\n      return;\n    }\n    this.props.onSubmit(this.state.searchName);\n    this.resetForm();\n  };\n\n  resetForm = () => {\n    this.setState({ searchName: '' });\n  };\n\n  render() {\n    return (\n      <header className={styles.Searchbar}>\n        <form onSubmit={this.handleSubmit} className={styles.SearchForm}>\n          <button type=\"submit\" className={styles.SearchForm_button}>\n            <AiOutlineSearch />\n            <span className={styles.SearchFormButton_label}>Search</span>\n          </button>\n\n          <input\n            className={styles.SearchForm_input}\n            type=\"text\"\n            autoComplete=\"off\"\n            autoFocus\n            placeholder=\"Search images and photos\"\n            value={this.state.searchName}\n            onChange={this.handleChange}\n          />\n        </form>\n      </header>\n    );\n  }\n}\n","function fetchImage(searchName, page) {\n  console.log(page);\n  return fetch(\n    `https://pixabay.com/api/?q=${searchName}&page=${page}&key=23204413-d213403835507960634485f04&image_type=photo&orientation=horizontal&per_page=12`,\n  ).then(response => {\n    if (response.ok) {\n      return response.json();\n    }\n    return Promise.reject(\n      new Error(`There is no information for this query ${searchName}`),\n    );\n  });\n}\n\nconst api = {\n  fetchImage,\n};\n\nexport default api;\n","import React from 'react';\nimport styles from '../ImageGalleryItem/ImageGalleryItem.module.css';\n\nconst ImageGalleryItem = ({ id, src, largeImg, onClick, onImgClick }) => {\n  return (\n    <li className={styles.ImageGalleryItem} key={id} onClick={onClick}>\n      <img\n        onClick={onImgClick}\n        className={styles.ImageGalleryItem_image}\n        src={src}\n        alt=\"\"\n        data-url={largeImg}\n      />\n    </li>\n  );\n};\n\nexport default ImageGalleryItem;\n","import React from 'react';\nimport styles from '../ImageGallery/ImageGallery.module.css';\nimport ImageGalleryItem from '../ImageGalleryItem/ImageGalleryItem';\n\nconst ImageGallery = ({ images, onClick, onImgClick }) => {\n  return (\n    <div className={styles.ImageGallery_container}>\n      <ul className={styles.ImageGallery}>\n        {/* <li>jhgf</li> */}\n        {images.map(image => {\n          return (\n            // <div><p>{image.id} </p>\n            <ImageGalleryItem\n              onClick={onClick}\n              onImgClick={onImgClick}\n              key={image.id}\n              src={image.webformatURL}\n              largeImg={image.largeImageURL}\n            />\n            //   </div>\n          );\n        })}\n      </ul>\n      {/* <button type=\"button\" onClick={onClick}>Load more</button> */}\n    </div>\n  );\n};\n\nexport default ImageGallery;\n","import React from 'react';\nimport styles from '../Button/Button.module.css';\n\nconst Button = ({ onClick }) => {\n  return (\n    <>\n      <button type=\"button\" onClick={onClick} className={styles.Button}>\n        Load more\n      </button>\n    </>\n  );\n};\n\nexport default Button;\n","import { Component } from 'react';\nimport { createPortal } from 'react-dom';\nimport styles from '../Modal/Modal.module.css';\n\nexport class Modal extends Component {\n  componentDidMount() {\n    window.addEventListener('keydown', this.handleEscape);\n  }\n  componentWillUnmount() {\n    window.removeEventListener('keydown', this.handleEscape);\n  }\n\n  handleEscape = e => {\n    let condition = e.code === 'Escape';\n    if (condition) {\n      this.props.onCloseModal();\n    }\n    console.log(e.code === 'Escape');\n  };\n\n  handleClose = e => {\n    if (e.currentTarget === e.target) {\n      this.props.onCloseModal();\n    }\n  };\n  render() {\n    const { children } = this.props;\n    return createPortal(\n      <div className={styles.Overlay} onClick={this.handleClose}>\n        <div className={styles.Modal}>\n          {children}\n\n          {/* <img src=\"\" alt=\"\" /> */}\n        </div>\n      </div>,\n      document.getElementById('modalRoot'),\n    );\n  }\n}\n","import './App.css';\nimport styles from './App.css';\nimport React from 'react';\nimport { ToastContainer } from 'react-toastify';\nimport 'react-toastify/dist/ReactToastify.css';\n\nimport Searchbar from './components/Searchbar/Searchbar';\nimport Loader from 'react-loader-spinner';\nimport searchApi from './services/api';\nimport ImageGallery from './components/ImageGallery/ImageGallery';\nimport Button from './components/Button/Button';\nimport { Modal } from './components/Modal/Modal';\n\nclass App extends React.Component {\n  state = {\n    searchName: '',\n    searchInfo: [],\n    error: null,\n    status: 'idle',\n    searchPage: 1,\n    showModal: false,\n    largeImgUrl: '',\n  };\n\n  componentDidUpdate(prevProps, prevState) {\n    if (this.state.searchInfo.length > 12) {\n      window.scrollTo({\n        top: document.documentElement.scrollHeight,\n        behavior: 'smooth',\n      });\n    }\n\n    if (prevState.searchName !== this.state.searchName) {\n      this.setState({ searchPage: 1 });\n      this.setState({ status: 'pending' });\n      this.setState({ searchInfo: [] });\n      this.fetchFunction();\n    }\n    return;\n  }\n\n  handleFormSubmit = searchName => {\n    this.setState({ searchName });\n  };\n\n  handleClick = () => {\n    this.fetchFunction();\n    console.log(this.state.searchInfo.length);\n  };\n\n  fetchFunction = () => {\n    return searchApi\n      .fetchImage(this.state.searchName, this.state.searchPage)\n      .then(searchInfo => {\n        this.setState({\n          searchInfo: [...this.state.searchInfo, ...searchInfo.hits],\n          status: 'resolved',\n        });\n        this.setState(prevState => ({ searchPage: prevState.searchPage + 1 }));\n      })\n      .catch(error => this.setState({ error, status: 'rejected' }));\n  };\n\n  onCloseModal = () => {\n    this.setState({ showModal: false });\n  };\n\n  onOpenModal = () => {\n    this.setState({ showModal: true });\n  };\n\n  onImgClick = e => {\n    console.log(e.target.dataset);\n    if (e.target.nodeName !== 'IMG') {\n      return;\n    }\n    this.setState({ largeImgUrl: e.target.dataset.url });\n  };\n\n  render() {\n    const { searchInfo, error, status, showModal, largeImgUrl } = this.state;\n\n    return (\n      <div className={styles.App}>\n        <Searchbar onSubmit={this.handleFormSubmit} />\n        {showModal && (\n          <Modal onCloseModal={this.onCloseModal}>\n            <img src={largeImgUrl} alt=\"\" />\n          </Modal>\n        )}\n        <ToastContainer position=\"top-center\" autoClose={2000} />\n        {status === 'idle' && <div>Enter a search name</div>}\n        {status === 'pending' && (\n          <Loader\n            type=\"BallTriangle\"\n            color=\"#00BFFF\"\n            height={100}\n            width={100}\n            timeout={3000}\n          />\n        )}\n        {status === 'rejected' && <h1>{error.message}</h1>}\n        {status === 'resolved' && searchInfo.length > 0 && (\n          <>\n            <ImageGallery\n              images={searchInfo}\n              onClick={this.onOpenModal}\n              onImgClick={this.onImgClick}\n            />\n            <Button onClick={this.handleClick} />\n          </>\n        )}\n      </div>\n    );\n  }\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\n\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Searchbar\":\"Searchbar_Searchbar__2vYEt\",\"SearchForm\":\"Searchbar_SearchForm__vlWvG\",\"SearchForm_button\":\"Searchbar_SearchForm_button__1QRgj\",\"SearchFormButton_label\":\"Searchbar_SearchFormButton_label__3ywVo\",\"SearchForm_input\":\"Searchbar_SearchForm_input__1VvIM\"};"],"sourceRoot":""}